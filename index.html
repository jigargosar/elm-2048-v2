<script src="https://hammerjs.github.io/dist/hammer.js"></script>
<link rel="stylesheet" href="./src/main.css">
<div id="main"></div>


<script type="module">
  import Mod from './src/Main.elm'

  // noinspection JSUnresolvedVariable
  const Main = Mod.Elm.Main

  const mainNode = document.getElementById('main')
  
  const app = Main.init({
    node: mainNode,
    flags: {
      now: Date.now(),
      state: sessionStorage.getItem('app-state'),
    },
  })

  app.ports['save'].subscribe((jsonString) => {
    sessionStorage.setItem('app-state', jsonString)
  })

  setTimeout(function () {
    const hammer = new Hammer(document.getElementById('main2'), {domEvents: true})
    hammer.get('swipe').set({direction: Hammer.DIRECTION_ALL})
    // hammer.on('swipe', console.log)
  },1000);

</script>


<script type="module">

  /*import {html, LitElement} from 'lit-element'


  class IntersectionNotifier extends LitElement {
    static get properties() {
      return {
        thresholds: {type: Array},
        rootMargin: {type: String},
      }
    }

    render() {
      return html`
          <div id="slottedData">
              <slot></slot>
          </div>
      `
    }

    firstUpdated(_changedProperties) {
      super.firstUpdated(_changedProperties)
      console.log('_changedProperties', _changedProperties)

      const options = {
        root: null, rootMargin: this.rootMargin ?? undefined, // "0px",
        threshold: this.thresholds ?? null, // [0.1]
      }

      const callback = entries => {
        for (const entry of entries) {
          const detail = {
            isIntersecting: entry.isIntersecting,
            intersectionRatio: entry.intersectionRatio,
          }
          this.dispatchEvent(new CustomEvent('intersect', {detail}))
        }
      }

      this.observer = new IntersectionObserver(callback, options)
      this.observer.observe(this.shadowRoot.querySelector('#slottedData'))
    }
  }

  window.customElements.define(
    'intersection-notifier',
    IntersectionNotifier,
  )
*/

</script>
